<!DOCTYPE html>
<html lang="ko">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>ì ì‹¬ë©”ë‰´ ì¶”ì²œ ëŒ€ì‹œë³´ë“œ</title>
        <style>
            * {
                margin: 0;
                padding: 0;
                box-sizing: border-box;
            }

            body {
                font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
                background: #f5f6fa;
                min-height: 100vh;
            }

            /* ì‚¬ì´ë“œë°” */
            .sidebar {
                position: fixed;
                left: 0;
                top: 0;
                width: 250px;
                height: 100vh;
                background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 30px 20px;
                box-shadow: 2px 0 10px rgba(0,0,0,0.1);
                overflow-y: auto;
                overflow-x: hidden;
            }

            /* ì‚¬ì´ë“œë°” ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
            .sidebar::-webkit-scrollbar {
                width: 8px;
            }

            .sidebar::-webkit-scrollbar-track {
                background: rgba(255, 255, 255, 0.1);
                border-radius: 10px;
            }

            .sidebar::-webkit-scrollbar-thumb {
                background: rgba(255, 255, 255, 0.3);
                border-radius: 10px;
            }

            .sidebar::-webkit-scrollbar-thumb:hover {
                background: rgba(255, 255, 255, 0.5);
            }

            .logo {
                font-size: 1.5em;
                font-weight: bold;
                margin-bottom: 40px;
                text-align: center;
            }

            .menu-item {
                padding: 15px 20px;
                margin-bottom: 10px;
                border-radius: 10px;
                cursor: pointer;
                transition: all 0.3s ease;
                display: flex;
                align-items: center;
                gap: 10px;
            }

            .menu-item:hover {
                background: rgba(255, 255, 255, 0.2);
            }

            .menu-item.active {
                background: rgba(255, 255, 255, 0.3);
            }

            .menu-icon {
                font-size: 1.2em;
            }

            /* ë©”ì¸ ì»¨í…ì¸  */
            .main-content {
                margin-left: 250px;
                padding: 30px;
            }

            .header {
                background: white;
                padding: 25px 30px;
                border-radius: 15px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.05);
                margin-bottom: 30px;
            }

            .header h1 {
                color: #333;
                font-size: 2em;
                margin-bottom: 5px;
            }

            .header p {
                color: #666;
                font-size: 1em;
            }

            /* ëŒ€ì‹œë³´ë“œ ê·¸ë¦¬ë“œ */
            .dashboard-grid {
                display: grid;
                grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
                gap: 25px;
                margin-bottom: 30px;
            }

            .card {
                background: white;
                padding: 25px;
                border-radius: 15px;
                box-shadow: 0 2px 10px rgba(0,0,0,0.05);
                transition: all 0.3s ease;
            }

            .card:hover {
                transform: translateY(-5px);
                box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            }

            .card-header {
                display: flex;
                justify-content: space-between;
                align-items: center;
                margin-bottom: 20px;
            }

            .card-title {
                font-size: 1.2em;
                font-weight: bold;
                color: #333;
            }

            .card-icon {
                font-size: 2em;
            }

            /* ì¶”ì²œ ì¹´ë“œ */
            .recommend-card {
                grid-column: span 2;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                min-height: 300px;
                display: flex;
                flex-direction: column;
                justify-content: center;
                align-items: center;
            }

            .recommend-result {
                text-align: center;
                margin: 30px 0;
            }

            .recommend-emoji {
                font-size: 5em;
                margin-bottom: 15px;
            }

            .recommend-name {
                font-size: 2.5em;
                font-weight: bold;
                margin-bottom: 10px;
            }

            .recommend-category {
                font-size: 1.2em;
                opacity: 0.9;
            }

            .recommend-btn {
                background: white;
                color: #667eea;
                border: none;
                padding: 15px 40px;
                font-size: 1.1em;
                border-radius: 50px;
                cursor: pointer;
                font-weight: bold;
                transition: all 0.3s ease;
            }

            .recommend-btn:hover {
                transform: scale(1.05);
                box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            }

            /* í•„í„° ë²„íŠ¼ */
            .filter-group {
                display: flex;
                gap: 10px;
                flex-wrap: wrap;
                margin-bottom: 20px;
            }

            .filter-btn {
                padding: 10px 20px;
                border: 2px solid rgba(255,255,255,0.3);
                background: transparent;
                color: white;
                border-radius: 25px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-size: 0.9em;
            }

            .filter-btn:hover {
                background: rgba(255,255,255,0.2);
            }

            .filter-btn.active {
                background: white;
                color: #667eea;
            }

            /* í†µê³„ ì¹´ë“œ */
            .stat-value {
                font-size: 2.5em;
                font-weight: bold;
                color: #667eea;
                margin: 10px 0;
            }

            .stat-label {
                color: #666;
                font-size: 0.9em;
            }

            /* ë¦¬ìŠ¤íŠ¸ */
            .menu-list {
                list-style: none;
            }

            .menu-list-item {
                padding: 12px 15px;
                background: #f8f9fa;
                border-radius: 8px;
                margin-bottom: 8px;
                display: flex;
                justify-content: space-between;
                align-items: center;
                transition: all 0.3s ease;
            }

            .menu-list-item:hover {
                background: #e9ecef;
                transform: translateX(5px);
            }

            /* ìœ„ì¹˜ ì •ë³´ */
            .location-status {
                text-align: center;
                padding: 20px;
                color: #666;
            }

            .loading-spinner {
                width: 40px;
                height: 40px;
                border: 4px solid #f3f3f3;
                border-top: 4px solid #667eea;
                border-radius: 50%;
                animation: spin 1s linear infinite;
                margin: 0 auto 15px;
            }

            @keyframes spin {
                0% {
                    transform: rotate(0deg);
                }
                100% {
                    transform: rotate(360deg);
                }
            }

            .location-info {
                padding: 15px 0;
            }

            .location-item {
                display: flex;
                align-items: flex-start;
                margin-bottom: 12px;
                padding: 10px;
                background: #f8f9fa;
                border-radius: 8px;
            }

            .location-label {
                font-weight: bold;
                color: #667eea;
                min-width: 80px;
                margin-right: 10px;
            }

            .location-value {
                color: #333;
                flex: 1;
                word-break: break-word;
            }

            .location-btn {
                width: 100%;
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border: none;
                padding: 12px 20px;
                border-radius: 8px;
                cursor: pointer;
                font-size: 0.95em;
                font-weight: bold;
                transition: all 0.3s ease;
                margin-top: 15px;
            }

            .location-btn:hover {
                transform: translateY(-2px);
                box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
            }

            .location-btn:disabled {
                opacity: 0.6;
                cursor: not-allowed;
                transform: none;
            }

            .error-message {
                color: #e74c3c;
                text-align: center;
                padding: 15px;
                background: #fee;
                border-radius: 8px;
                margin-bottom: 10px;
            }

            /* ì‹ë‹¹ ì¹´ë“œ ìŠ¤íƒ€ì¼ */
            .restaurant-card {
                background: white;
                border-radius: 12px;
                padding: 20px;
                box-shadow: 0 2px 8px rgba(0,0,0,0.08);
                transition: all 0.3s ease;
                cursor: pointer;
                border: 2px solid transparent;
            }

            .restaurant-card:hover {
                transform: translateY(-5px);
                box-shadow: 0 8px 20px rgba(102, 126, 234, 0.2);
                border-color: #667eea;
            }

            .restaurant-header {
                display: flex;
                align-items: center;
                gap: 12px;
                margin-bottom: 12px;
            }

            .restaurant-icon {
                font-size: 2.5em;
                flex-shrink: 0;
            }

            .restaurant-info {
                flex: 1;
            }

            .restaurant-name {
                font-size: 1.1em;
                font-weight: bold;
                color: #333;
                margin-bottom: 5px;
            }

            .restaurant-rating {
                display: flex;
                align-items: center;
                gap: 5px;
                color: #ffa500;
                font-size: 0.9em;
            }

            .restaurant-distance {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                padding: 5px 12px;
                border-radius: 20px;
                font-size: 0.85em;
                font-weight: bold;
                display: inline-block;
                margin-top: 8px;
            }

            .restaurant-tags {
                display: flex;
                gap: 8px;
                flex-wrap: wrap;
                margin-top: 10px;
            }

            .restaurant-tag {
                background: #f0f0f0;
                padding: 4px 10px;
                border-radius: 15px;
                font-size: 0.8em;
                color: #666;
            }

            /* ì§€ë„ ì•ˆë‚´ ë°°ë„ˆ */
            .map-banner {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                padding: 20px;
                border-radius: 12px;
                margin-bottom: 20px;
                color: white;
                text-align: center;
                box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            }

            .map-banner-title {
                font-size: 1.3em;
                font-weight: bold;
                margin-bottom: 8px;
            }

            .map-banner-subtitle {
                opacity: 0.9;
                font-size: 0.95em;
            }

            /* ì‹ë‹¹ ì„¹ì…˜ ìŠ¤í¬ë¡¤ ì»¨í…Œì´ë„ˆ */
            .restaurant-scroll-container {
                max-height: 320px;
                overflow-y: auto;
                overflow-x: hidden;
                padding-right: 10px;
            }

            /* ì‹ë‹¹ ì„¹ì…˜ ìŠ¤í¬ë¡¤ë°” ìŠ¤íƒ€ì¼ë§ */
            .restaurant-scroll-container::-webkit-scrollbar {
                width: 8px;
            }

            .restaurant-scroll-container::-webkit-scrollbar-track {
                background: #f1f1f1;
                border-radius: 10px;
                margin: 5px 0;
            }

            .restaurant-scroll-container::-webkit-scrollbar-thumb {
                background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
                border-radius: 10px;
            }

            .restaurant-scroll-container::-webkit-scrollbar-thumb:hover {
                background: linear-gradient(180deg, #5a6fd8 0%, #6a3f92 100%);
            }

            /* ì‹ë‹¹ ë¦¬ìŠ¤íŠ¸ ê·¸ë¦¬ë“œ - 1ì—´ë¡œ ë³€ê²½ */
            .restaurant-list-grid {
                display: flex;
                flex-direction: column;
                gap: 15px;
            }

            /* ê±°ë¦¬ í•„í„° ë²„íŠ¼ */
            .distance-btn {
                padding: 10px 20px;
                border: 2px solid #667eea;
                background: white;
                color: #667eea;
                border-radius: 25px;
                cursor: pointer;
                transition: all 0.3s ease;
                font-size: 0.95em;
                font-weight: bold;
            }

            .distance-btn:hover {
                background: #f0f3ff;
                transform: translateY(-2px);
            }

            .distance-btn.active {
                background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
                color: white;
                border-color: #667eea;
            }

            /* ë°˜ì‘í˜• */
            @media (max-width: 768px) {
                .sidebar {
                    width: 70px;
                    padding: 20px 10px;
                }

                .logo {
                    font-size: 1.2em;
                }

                .menu-text {
                    display: none;
                }

                .main-content {
                    margin-left: 70px;
                    padding: 20px;
                }

                .recommend-card {
                    grid-column: span 1;
                }

                .dashboard-grid {
                    grid-template-columns: 1fr;
                }

                .restaurant-scroll-container {
                    max-height: 280px;
                }

                .restaurant-list-grid {
                    gap: 12px;
                }
            }
        </style>
    </head>
    <body>
        <!-- ì‚¬ì´ë“œë°” -->
        <div class="sidebar">
            <div class="logo">ğŸ½ï¸ ë©”ë‰´ë´‡</div>
            <div class="menu-item active">
                <span class="menu-icon">ğŸ </span>
                <span class="menu-text">ëŒ€ì‹œë³´ë“œ</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">ğŸ²</span>
                <span class="menu-text">ëœë¤ ì¶”ì²œ</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">ğŸ“Š</span>
                <span class="menu-text">í†µê³„</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">â­</span>
                <span class="menu-text">ì¦ê²¨ì°¾ê¸°</span>
            </div>
            <div class="menu-item">
                <span class="menu-icon">âš™ï¸</span>
                <span class="menu-text">ì„¤ì •</span>
            </div>
        </div>

        <!-- ë©”ì¸ ì»¨í…ì¸  -->
        <div class="main-content">
            <!-- í—¤ë” -->
            <div class="header">
                <h1>ì˜¤ëŠ˜ ë­ ë¨¹ì§€? ğŸ¤”</h1>
                <p id="currentDate"></p>
            </div>

            <!-- ëŒ€ì‹œë³´ë“œ ê·¸ë¦¬ë“œ -->
            <div class="dashboard-grid">
                <!-- ë©”ë‰´ ì¶”ì²œ ì¹´ë“œ -->
                <div class="card recommend-card">
                    <div class="filter-group">
                        <button class="filter-btn active" data-filter="all">ì „ì²´</button>
                        <button class="filter-btn" data-filter="korean">í•œì‹</button>
                        <button class="filter-btn" data-filter="chinese">ì¤‘ì‹</button>
                        <button class="filter-btn" data-filter="japanese">ì¼ì‹</button>
                        <button class="filter-btn" data-filter="western">ì–‘ì‹</button>
                    </div>

                    <div class="recommend-result" id="recommendResult">
                        <div class="recommend-emoji">ğŸ½ï¸</div>
                        <div class="recommend-name">ë©”ë‰´ë¥¼ ì¶”ì²œí•´ë“œë¦´ê²Œìš”!</div>
                        <div class="recommend-category">ì•„ë˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ë³´ì„¸ìš”</div>
                    </div>

                    <button class="recommend-btn" id="recommendBtn">ğŸ² ë©”ë‰´ ì¶”ì²œë°›ê¸°</button>
                </div>

                <!-- ì˜¤ëŠ˜ì˜ ì¶”ì²œ íšŸìˆ˜ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ì˜¤ëŠ˜ì˜ ì¶”ì²œ íšŸìˆ˜</span>
                        <span class="card-icon">ğŸ”¢</span>
                    </div>
                    <div class="stat-value" id="todayCount">0</div>
                    <div class="stat-label">ë²ˆ ì¶”ì²œë°›ì•˜ì–´ìš”</div>
                </div>

                <!-- ì „ì²´ ë©”ë‰´ ìˆ˜ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ì „ì²´ ë©”ë‰´ ìˆ˜</span>
                        <span class="card-icon">ğŸ“‹</span>
                    </div>
                    <div class="stat-value" id="totalMenus">0</div>
                    <div class="stat-label">ê°œì˜ ë©”ë‰´ê°€ ìˆì–´ìš”</div>
                </div>

                <!-- ì¸ê¸° ë©”ë‰´ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ìµœê·¼ ì¶”ì²œ ë©”ë‰´</span>
                        <span class="card-icon">ğŸ†</span>
                    </div>
                    <ul class="menu-list" id="recentMenus">
                        <li class="menu-list-item">ì•„ì§ ì¶”ì²œë°›ì€ ë©”ë‰´ê°€ ì—†ì–´ìš”</li>
                    </ul>
                </div>

                <!-- ì¹´í…Œê³ ë¦¬ë³„ í†µê³„ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ì¹´í…Œê³ ë¦¬ë³„ ë©”ë‰´</span>
                        <span class="card-icon">ğŸ“Š</span>
                    </div>
                    <ul class="menu-list">
                        <li class="menu-list-item">
                            <span>ğŸš í•œì‹</span>
                            <span id="koreanCount">0ê°œ</span>
                        </li>
                        <li class="menu-list-item">
                            <span>ğŸ¥Ÿ ì¤‘ì‹</span>
                            <span id="chineseCount">0ê°œ</span>
                        </li>
                        <li class="menu-list-item">
                            <span>ğŸ£ ì¼ì‹</span>
                            <span id="japaneseCount">0ê°œ</span>
                        </li>
                        <li class="menu-list-item">
                            <span>ğŸ ì–‘ì‹</span>
                            <span id="westernCount">0ê°œ</span>
                        </li>
                    </ul>
                </div>

                <!-- ë‚´ ìœ„ì¹˜ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ë‚´ ìœ„ì¹˜</span>
                        <span class="card-icon">ğŸ“</span>
                    </div>
                    <div id="locationInfo">
                        <div class="location-status" id="locationStatus">
                            <div class="loading-spinner"></div>
                            <p>ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
                        </div>
                    </div>
                    <button class="location-btn" id="getLocationBtn">ğŸ“ ìœ„ì¹˜ ë‹¤ì‹œ ê°€ì ¸ì˜¤ê¸°</button>
                </div>

                <!-- ì£¼ë³€ ì‹ë‹¹ ì§€ë„ -->
                <div class="card">
                    <div class="card-header">
                        <span class="card-title">ì¶”ì²œ ë©”ë‰´ ì£¼ë³€ ì‹ë‹¹</span>
                        <span class="card-icon">ğŸ—ºï¸</span>
                    </div>

                    <!-- ê±°ë¦¬ í•„í„° ë²„íŠ¼ -->
                    <div id="distanceFilter" style="display: none; margin-bottom: 20px;">
                        <div style="display: flex; gap: 10px; justify-content: center;">
                            <button class="distance-btn active" data-distance="1">1km ì´ë‚´</button>
                            <button class="distance-btn" data-distance="5">5km ì´ë‚´</button>
                            <button class="distance-btn" data-distance="10">10km ì´ë‚´</button>
                        </div>
                    </div>

                    <!-- ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆ -->
                    <div class="restaurant-scroll-container">
                        <div id="restaurantInfo">
                            <div class="location-status">
                                <p style="color: #999;">ë©”ë‰´ë¥¼ ë¨¼ì € ì¶”ì²œë°›ì•„ì£¼ì„¸ìš”!</p>
                            </div>
                        </div>

                        <!-- ì‹ë‹¹ ë¦¬ìŠ¤íŠ¸ -->
                        <div id="restaurantList" style="display: none; margin: 20px 0;">
                            <div class="restaurant-list-grid">
                                <!-- JavaScriptë¡œ ì±„ì›Œì§ˆ ì˜ˆì • -->
                            </div>
                        </div>
                    </div>

                    <button class="location-btn" id="searchRestaurantBtn" style="display: none;">ğŸ” ì£¼ë³€ ì‹ë‹¹ ë‹¤ì‹œ ê²€ìƒ‰</button>
                </div>
            </div>

            <!-- ì§€ë„ ì„¹ì…˜ (í•˜ë‹¨ ì „ì²´ ë„ˆë¹„) -->
            <div id="mapSection" style="display: none; margin-top: 30px;">
                <div class="card" style="grid-column: 1 / -1;">
                    <div class="card-header">
                        <span class="card-title">ì§€ë„ì—ì„œ ìœ„ì¹˜ í™•ì¸í•˜ê¸°</span>
                        <span class="card-icon">ğŸ—ºï¸</span>
                    </div>
                    <div class="map-banner">
                        <div class="map-banner-title">ğŸ—ºï¸ ì¶”ì²œ ë©”ë‰´ ì£¼ë³€ ì‹ë‹¹ ìœ„ì¹˜</div>
                        <div class="map-banner-subtitle">ë¹¨ê°„ìƒ‰ ë§ˆì»¤ë¥¼ í´ë¦­í•˜ë©´ ìƒì„¸ ì •ë³´ë¥¼ ë³¼ ìˆ˜ ìˆì–´ìš”!</div>
                    </div>
                    <iframe
                        id="mapFrame"
                        width="100%"
                        height="450"
                        style="border:0; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1);"
                        loading="lazy"></iframe>
                </div>
            </div>
        </div>

        <script>
            const menus = {
                korean: [
                    {
                        name: 'ê¹€ì¹˜ì°Œê°œ',
                        emoji: 'ğŸ²',
                        category: 'í•œì‹'
                    }, {
                        name: 'ëœì¥ì°Œê°œ',
                        emoji: 'ğŸ¥˜',
                        category: 'í•œì‹'
                    }, {
                        name: 'ë¹„ë¹”ë°¥',
                        emoji: 'ğŸš',
                        category: 'í•œì‹'
                    }, {
                        name: 'ë¶ˆê³ ê¸°',
                        emoji: 'ğŸ¥©',
                        category: 'í•œì‹'
                    }, {
                        name: 'ì‚¼ê²¹ì‚´',
                        emoji: 'ğŸ¥“',
                        category: 'í•œì‹'
                    }, {
                        name: 'ëƒ‰ë©´',
                        emoji: 'ğŸœ',
                        category: 'í•œì‹'
                    }, {
                        name: 'ì¹¼êµ­ìˆ˜',
                        emoji: 'ğŸ',
                        category: 'í•œì‹'
                    }, {
                        name: 'ê¹€ë°¥',
                        emoji: 'ğŸ±',
                        category: 'í•œì‹'
                    }
                ],
                chinese: [
                    {
                        name: 'ì§œì¥ë©´',
                        emoji: 'ğŸœ',
                        category: 'ì¤‘ì‹'
                    }, {
                        name: 'ì§¬ë½•',
                        emoji: 'ğŸ²',
                        category: 'ì¤‘ì‹'
                    }, {
                        name: 'íƒ•ìˆ˜ìœ¡',
                        emoji: 'ğŸ–',
                        category: 'ì¤‘ì‹'
                    }, {
                        name: 'ë§ˆë¼íƒ•',
                        emoji: 'ğŸŒ¶ï¸',
                        category: 'ì¤‘ì‹'
                    }, {
                        name: 'ë³¶ìŒë°¥',
                        emoji: 'ğŸš',
                        category: 'ì¤‘ì‹'
                    }
                ],
                japanese: [
                    {
                        name: 'ì´ˆë°¥',
                        emoji: 'ğŸ£',
                        category: 'ì¼ì‹'
                    }, {
                        name: 'ë¼ë©˜',
                        emoji: 'ğŸœ',
                        category: 'ì¼ì‹'
                    }, {
                        name: 'ëˆê¹ŒìŠ¤',
                        emoji: 'ğŸ›',
                        category: 'ì¼ì‹'
                    }, {
                        name: 'ìš°ë™',
                        emoji: 'ğŸ²',
                        category: 'ì¼ì‹'
                    }, {
                        name: 'ê·œë™',
                        emoji: 'ğŸ±',
                        category: 'ì¼ì‹'
                    }
                ],
                western: [
                    {
                        name: 'íŒŒìŠ¤íƒ€',
                        emoji: 'ğŸ',
                        category: 'ì–‘ì‹'
                    }, {
                        name: 'í”¼ì',
                        emoji: 'ğŸ•',
                        category: 'ì–‘ì‹'
                    }, {
                        name: 'ìŠ¤í…Œì´í¬',
                        emoji: 'ğŸ¥©',
                        category: 'ì–‘ì‹'
                    }, {
                        name: 'í–„ë²„ê±°',
                        emoji: 'ğŸ”',
                        category: 'ì–‘ì‹'
                    }, {
                        name: 'ìƒëŸ¬ë“œ',
                        emoji: 'ğŸ¥—',
                        category: 'ì–‘ì‹'
                    }
                ]
            };

            let currentFilter = 'all';
            let todayCount = 0;
            let recentMenusList = [];
            let userLocation = null;
            let lastRecommendedMenu = null;
            let currentDistanceFilter = 1; // ê¸°ë³¸ 1km
            let allRestaurants = []; // ëª¨ë“  ì‹ë‹¹ ë°ì´í„° ì €ì¥

            // ë‚ ì§œ í‘œì‹œ
            const today = new Date();
            const dateStr = `${today.getFullYear()}ë…„ ${today.getMonth() + 1}ì›” ${today.getDate()}ì¼`;
            document
                .getElementById('currentDate')
                .textContent = dateStr;

            // ì „ì²´ ë©”ë‰´ ìˆ˜ ê³„ì‚°
            const totalMenuCount = Object
                .values(menus)
                .flat()
                .length;
            document
                .getElementById('totalMenus')
                .textContent = totalMenuCount;

            // ì¹´í…Œê³ ë¦¬ë³„ ë©”ë‰´ ìˆ˜ í‘œì‹œ
            document
                .getElementById('koreanCount')
                .textContent = menus.korean.length + 'ê°œ';
            document
                .getElementById('chineseCount')
                .textContent = menus.chinese.length + 'ê°œ';
            document
                .getElementById('japaneseCount')
                .textContent = menus.japanese.length + 'ê°œ';
            document
                .getElementById('westernCount')
                .textContent = menus.western.length + 'ê°œ';

            // í•„í„° ë²„íŠ¼
            const filterBtns = document.querySelectorAll('.filter-btn');
            filterBtns.forEach(btn => {
                btn.addEventListener('click', () => {
                    filterBtns.forEach(b => b.classList.remove('active'));
                    btn
                        .classList
                        .add('active');
                    currentFilter = btn.dataset.filter;
                });
            });

            // ì¶”ì²œ ë²„íŠ¼
            const recommendBtn = document.getElementById('recommendBtn');
            const recommendResult = document.getElementById('recommendResult');

            recommendBtn.addEventListener('click', () => {
                recommendBtn.disabled = true;

                let count = 0;
                const interval = setInterval(() => {
                    const randomMenu = getRandomMenu();
                    displayRecommendation(randomMenu);
                    count++;

                    if (count >= 15) {
                        clearInterval(interval);
                        recommendBtn.disabled = false;

                        // í†µê³„ ì—…ë°ì´íŠ¸
                        todayCount++;
                        document
                            .getElementById('todayCount')
                            .textContent = todayCount;

                        // ìµœê·¼ ë©”ë‰´ì— ì¶”ê°€
                        addToRecentMenus(randomMenu);

                        // ë§ˆì§€ë§‰ ì¶”ì²œ ë©”ë‰´ ì €ì¥ ë° ì£¼ë³€ ì‹ë‹¹ ê²€ìƒ‰
                        lastRecommendedMenu = randomMenu;
                        searchNearbyRestaurants(randomMenu);
                    }
                }, 80);
            });

            function getRandomMenu() {
                let menuList = [];

                if (currentFilter === 'all') {
                    menuList = Object
                        .values(menus)
                        .flat();
                } else {
                    menuList = menus[currentFilter];
                }

                return menuList[Math.floor(Math.random() * menuList.length)];
            }

            function displayRecommendation(menu) {
                recommendResult.innerHTML = `
                <div class="recommend-emoji">${menu.emoji}</div>
                <div class="recommend-name">${menu.name}</div>
                <div class="recommend-category">${menu.category}</div>
            `;
            }

            function addToRecentMenus(menu) {
                recentMenusList.unshift(menu);
                if (recentMenusList.length > 5) {
                    recentMenusList.pop();
                }

                const recentMenusEl = document.getElementById('recentMenus');
                recentMenusEl.innerHTML = recentMenusList
                    .map(
                        m => `<li class="menu-list-item">
                    <span>${m.emoji} ${m.name}</span>
                    <span>${m.category}</span>
                </li>`
                    )
                    .join('');
            }

            // GPS ìœ„ì¹˜ ì •ë³´ ê¸°ëŠ¥
            const locationStatus = document.getElementById('locationStatus');
            const locationInfo = document.getElementById('locationInfo');
            const getLocationBtn = document.getElementById('getLocationBtn');

            // í˜ì´ì§€ ë¡œë“œ ì‹œ ìë™ìœ¼ë¡œ ìœ„ì¹˜ ê°€ì ¸ì˜¤ê¸°
            getLocation();

            // ë²„íŠ¼ í´ë¦­ ì‹œ ìœ„ì¹˜ ë‹¤ì‹œ ê°€ì ¸ì˜¤ê¸°
            getLocationBtn.addEventListener('click', getLocation);

            function getLocation() {
                if (!navigator.geolocation) {
                    showError('ì´ ë¸Œë¼ìš°ì €ëŠ” ìœ„ì¹˜ ì„œë¹„ìŠ¤ë¥¼ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤.');
                    return;
                }

                getLocationBtn.disabled = true;
                locationInfo.innerHTML = `
                <div class="location-status">
                    <div class="loading-spinner"></div>
                    <p>ìœ„ì¹˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
                </div>
            `;

                navigator
                    .geolocation
                    .getCurrentPosition(showPosition, showError, {
                        enableHighAccuracy: false,
                        timeout: 15000,
                        maximumAge: 60000
                    });
            }

            function showPosition(position) {
                const lat = position.coords.latitude;
                const lon = position.coords.longitude;

                userLocation = {
                    lat,
                    lon
                };

                locationInfo.innerHTML = `
                <div class="location-info">
                    <div class="location-item">
                        <span class="location-label">ğŸ• í™•ì¸ ì‹œê°„</span>
                        <span class="location-value">${new Date(
                    position.timestamp
                ).toLocaleTimeString('ko-KR')}</span>
                    </div>
                </div>
            `;

                getLocationBtn.disabled = false;

                getAddress(lat, lon);

                if (lastRecommendedMenu) {
                    searchNearbyRestaurants(lastRecommendedMenu);
                }
            }

            function showError(error) {
                let errorMessage = '';

                switch (error.code) {
                    case error.PERMISSION_DENIED:
                        errorMessage = 'ìœ„ì¹˜ ì •ë³´ ì ‘ê·¼ì´ ê±°ë¶€ë˜ì—ˆìŠµë‹ˆë‹¤. ë¸Œë¼ìš°ì € ì„¤ì •ì—ì„œ ìœ„ì¹˜ ê¶Œí•œì„ í—ˆìš©í•´ì£¼ì„¸ìš”.';
                        break;
                    case error.POSITION_UNAVAILABLE:
                        errorMessage = 'ìœ„ì¹˜ ì •ë³´ë¥¼ ì‚¬ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.';
                        break;
                    case error.TIMEOUT:
                        errorMessage = 'ìœ„ì¹˜ ì •ë³´ ìš”ì²­ ì‹œê°„ì´ ì´ˆê³¼ë˜ì—ˆìŠµë‹ˆë‹¤.';
                        break;
                    default:
                        errorMessage = 'ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                }

                locationInfo.innerHTML = `
                <div class="error-message">
                    âš ï¸ ${errorMessage}
                </div>
            `;

                getLocationBtn.disabled = false;
            }

            async function getAddress(lat, lon) {
                try {
                    const response = await fetch(
                        `https://nominatim.openstreetmap.org/reverse?format=json&lat=${lat}&lon=${lon}&zoom=18&addressdetails=1`,
                        {
                            headers: {
                                'Accept-Language': 'ko'
                            }
                        }
                    );

                    const data = await response.json();

                    if (data.display_name) {
                        const addressDiv = document.createElement('div');
                        addressDiv.className = 'location-item';
                        addressDiv.innerHTML = `
                        <span class="location-label">ğŸ“ ì£¼ì†Œ</span>
                        <span class="location-value">${data.display_name}</span>
                    `;

                        const locationInfoDiv = locationInfo.querySelector('.location-info');
                        if (locationInfoDiv) {
                            locationInfoDiv.insertBefore(addressDiv, locationInfoDiv.firstChild);
                        }
                    }
                } catch (error) {
                    console.log('ì£¼ì†Œ ë³€í™˜ ì‹¤íŒ¨:', error);
                }
            }

            // ì£¼ë³€ ì‹ë‹¹ ê²€ìƒ‰ ê¸°ëŠ¥
            const restaurantInfo = document.getElementById('restaurantInfo');
            const restaurantList = document.getElementById('restaurantList');
            const mapSection = document.getElementById('mapSection');
            const mapFrame = document.getElementById('mapFrame');
            const searchRestaurantBtn = document.getElementById('searchRestaurantBtn');
            const distanceFilter = document.getElementById('distanceFilter');

            searchRestaurantBtn.addEventListener('click', () => {
                if (lastRecommendedMenu) {
                    searchNearbyRestaurants(lastRecommendedMenu);
                }
            });
            
            // ê±°ë¦¬ í•„í„° ë²„íŠ¼ ì´ë²¤íŠ¸
            document.querySelectorAll('.distance-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    // ëª¨ë“  ë²„íŠ¼ ë¹„í™œì„±í™”
                    document.querySelectorAll('.distance-btn').forEach(b => b.classList.remove('active'));
                    // í´ë¦­í•œ ë²„íŠ¼ í™œì„±í™”
                    btn.classList.add('active');
                    // ê±°ë¦¬ í•„í„° ì—…ë°ì´íŠ¸
                    currentDistanceFilter = parseFloat(btn.dataset.distance);
                    // í•„í„°ë§ëœ ì‹ë‹¹ í‘œì‹œ
                    filterRestaurantsByDistance();
                });
            });

            function searchNearbyRestaurants(menu) {
                if (!userLocation) {
                    restaurantInfo.innerHTML = `
                    <div class="location-status">
                        <p style="color: #e74c3c;">âš ï¸ ìœ„ì¹˜ ì •ë³´ë¥¼ ë¨¼ì € í—ˆìš©í•´ì£¼ì„¸ìš”!</p>
                    </div>
                `;
                    return;
                }

                restaurantInfo.innerHTML = `
                <div class="location-status">
                    <div class="loading-spinner"></div>
                    <p>"${menu.name}" ì£¼ë³€ ì‹ë‹¹ì„ ê²€ìƒ‰í•˜ëŠ” ì¤‘...</p>
                </div>
            `;

                // ë©”ë‰´ ì •ë³´ í‘œì‹œ
                restaurantInfo.innerHTML = `
                <div class="location-info">
                    <div class="location-item" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 12px; box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);">
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span style="font-size: 3em;">${menu.emoji}</span>
                            <div>
                                <div style="font-weight: bold; font-size: 1.5em; margin-bottom: 5px;">${menu.name}</div>
                                <div style="opacity: 0.9; font-size: 1em;">${menu.category} ë§›ì§‘ì„ ì°¾ì•„ë“œë¦´ê²Œìš”!</div>
                            </div>
                        </div>
                    </div>
                </div>
            `;

                // ìƒ˜í”Œ ì‹ë‹¹ ë°ì´í„° ìƒì„±
                allRestaurants = generateSampleRestaurants(menu);
                displayRestaurantList(menu);

                // Google Maps í‘œì‹œ
                const searchQuery = encodeURIComponent(`${menu.name} ë§›ì§‘`);
                const mapsUrl = `https://www.google.com/maps/embed/v1/search?key=AIzaSyBFw0Qbyq9zTFTd-tUY6dZWTgaQzuU17R8&q=${searchQuery}&center=${userLocation.lat},${userLocation.lon}&zoom=15`;

                mapFrame.src = mapsUrl;
                mapSection.style.display = 'block';
                searchRestaurantBtn.style.display = 'block';
                restaurantList.style.display = 'block';
                distanceFilter.style.display = 'block';
            }

            function displayRestaurantList(menu) {
                filterRestaurantsByDistance();
            }
            
            function filterRestaurantsByDistance() {
                // ê±°ë¦¬ í•„í„°ë§
                const filteredRestaurants = allRestaurants.filter(restaurant => {
                    return restaurant.distanceKm <= currentDistanceFilter;
                });
                
                const listContainer = restaurantList.querySelector('div');
                
                if (filteredRestaurants.length === 0) {
                    listContainer.innerHTML = `
                        <div style="text-align: center; padding: 40px; color: #999;">
                            <div style="font-size: 3em; margin-bottom: 10px;">ğŸ”</div>
                            <div style="font-size: 1.1em;">${currentDistanceFilter}km ì´ë‚´ì— ì‹ë‹¹ì´ ì—†ìŠµë‹ˆë‹¤.</div>
                            <div style="font-size: 0.9em; margin-top: 5px;">ë” ë„“ì€ ë²”ìœ„ë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”!</div>
                        </div>
                    `;
                    return;
                }
                
                listContainer.innerHTML = filteredRestaurants.map(restaurant => `
                <div class="restaurant-card" onclick="window.open('https://www.google.com/maps/search/${encodeURIComponent(restaurant.name)}/@${userLocation.lat},${userLocation.lon},15z', '_blank')">
                    <div class="restaurant-header">
                        <div class="restaurant-icon">${lastRecommendedMenu.emoji}</div>
                        <div class="restaurant-info">
                            <div class="restaurant-name">${restaurant.name}</div>
                            <div class="restaurant-rating">
                                ${'â­'.repeat(Math.floor(restaurant.rating))}
                                <span style="color: #333; font-weight: bold;">${restaurant.rating}</span>
                                <span style="color: #999;">(${restaurant.reviews})</span>
                            </div>
                        </div>
                    </div>
                    <div class="restaurant-distance">ğŸ“ ${restaurant.distance} (${restaurant.distanceKm}km)</div>
                    <div class="restaurant-tags">
                        ${restaurant.tags.map(tag => `<span class="restaurant-tag">${tag}</span>`).join('')}
                    </div>
                </div>
            `).join('');
            }

            function generateSampleRestaurants(menu) {
                const baseNames = [
                    'ë§›ìˆëŠ”', 'ì •í†µ', 'í• ë¨¸ë‹ˆ', 'ìš°ë¦¬', 'ì„œìš¸',
                    'ì›ì¡°', 'ì „í†µ', 'íŠ¹ì„ ', 'ëª…ê°€', 'ë³„ë¯¸'
                ];

                const suffixes = [
                    'ì‹ë‹¹', 'ë§›ì§‘', 'ì „ë¬¸ì ', 'ì§‘', 'ê°€ë“ ',
                    'í•˜ìš°ìŠ¤', 'ë³¸ì ', 'ë¶„ì‹', 'ê³¨ëª©', 'ë ˆìŠ¤í† ë‘'
                ];

                return Array(12).fill(null).map((_, i) => {
                    const randomBase = baseNames[Math.floor(Math.random() * baseNames.length)];
                    const randomSuffix = suffixes[Math.floor(Math.random() * suffixes.length)];
                    
                    // ê±°ë¦¬ë¥¼ 0.1km ~ 12km ë²”ìœ„ë¡œ ìƒì„±
                    const distanceMeters = Math.floor(100 + Math.random() * 11900);
                    const distanceKm = (distanceMeters / 1000).toFixed(1);
                    
                    const rating = (4.0 + Math.random() * 1.0).toFixed(1);
                    const reviews = Math.floor(50 + Math.random() * 950);

                    const allTags = ['ì¹œì ˆí•¨', 'ê¹”ë”í•¨', 'ë§›ì§‘', 'ì£¼ì°¨ê°€ëŠ¥', 'í¬ì¥ê°€ëŠ¥', 'ë°°ë‹¬ê°€ëŠ¥', 'ë‹¨ì²´ì„', 'ë£¸ìˆìŒ'];
                    const selectedTags = allTags
                        .sort(() => 0.5 - Math.random())
                        .slice(0, 3);

                    return {
                        name: `${randomBase} ${menu.name} ${randomSuffix}`,
                        rating: parseFloat(rating),
                        reviews: reviews,
                        distance: `${distanceMeters}m`,
                        distanceKm: parseFloat(distanceKm),
                        tags: selectedTags
                    };
                }).sort((a, b) => a.distanceKm - b.distanceKm); // ê±°ë¦¬ìˆœ ì •ë ¬
            }
        </script>
    </body>
</html>